<%- include("../../partials/header") %>

<div class="container mt-5">
   
    <h1>Edit Form: <%= currentForm.title %> </h1>
    <section>
        <div class="row shadow-md my-3">
            <div class="col">
                <% if (currentForm.questions && currentForm.questions.length > 0) { %>
                  <% for (let question of currentForm.questions) { %>
                    <div class="card shadow-sm my-3 p-2 editableQuestion" id="<%= question.id %>" draggable="true" ondragend="dragEnd()" ondragover="dragOver(event)" ondragstart="dragStart(event)">
                      <div class="row">
                        <div class="col-1">
                          <i class="fas fa-arrows-alt"></i>
                        </div>
                        <div class="col-11">
                          <div class="row card-title">
                            <div class="col-2">
                              <h3>Title:</h3>
                            </div>
                            <div class="col-10">
                              <input type="text" class="form-control w-100" value="<%= question.title %>"></h3>
                            </div>
                          </div>
                          <div class="card-body">
                            <div class="row">
                              <div class="col-2">
                                Type: 
                              </div>
                              <div class="col-10">
                                <select name="questionType" id="questionType<%= question.id %>" class="form-control">
                                  <% inputTypes.forEach((type) => { %>
                                    <option value="<%= type %>" <%= (type == question.inputType ? 'selected' : '') %>><%= (type == 'select' ? 'dropdown' : type) %></option>
                                  <% }); %>
                                </select>
                              </div>
                            </div>
                            <div class="row">
                              <div class="col-2">
                                Required: 
                              </div>
                              <div class="col-10">
                                  <div class="form-check-inline">
                                    <input type="radio" name="isDefault" id="isDefault<%= question.id %>" class="form-check-input" value="true">
                                    <label for="isDefault" class="form-check-label">Yes</label>
                                  </div>
                                  <div class="form-check-inline">
                                    <input type="radio" name="isDefault" id="isDefault<%= question.id %>" class="form-check-input" value="false">
                                    <label for="isDefault" class="form-check-label">No</label>
                                  </div>
                              </div>
                            </div>
                          </div>
                        </div>
                        </div>
                    </div>
                  <% } %>
                <% } else { %>
                  <h2>This form is empty</h2>
                <% } %>
            </div>
        </div>
    </section>
</div>

<%- include("../../partials/footer") %>